flowchart LR
  %% ───────────────────────── Nodes ─────────────────────────
  RPC_API["rpc_api"]:::api
  Parser["parser"]:::parser
  Codegen["codegen"]:::codegen
  Transport["transport"]:::transport
  Pipeline["pipeline"]:::pipeline
  Midas["bitcoin‑rpc‑midas"]:::midas
  NodeMgr["node"]:::node
  Config["config"]:::config

  %% ───────────────────────── Flow ─────────────────────────
  RPC_API  --> Parser
  Parser   --> SchemaNorm
  Codegen  --> Transport
  Codegen  --> Pipeline
  Pipeline --> Midas

  %%  Node‑side utilities
  NodeMgr  --> Transport
  NodeMgr  --> Config

  %% ───────────────────────── Styles ─────────────────────────
  classDef api       fill:#d0e1ff,stroke:#2255aa,color:#000;
  classDef parser    fill:#d0ffd0,stroke:#2a8a2a,color:#000;
  classDef codegen   fill:#ffd9d9,stroke:#aa2222,color:#000;
  classDef transport fill:#fff7c7,stroke:#aa9922,color:#000;
  classDef pipeline  fill:#fad5ff,stroke:#aa44aa,color:#000;
  classDef midas     fill:#c9f5ff,stroke:#228899,color:#000;
  classDef node      fill:#c9f5ff,stroke:#228899,color:#000;
  classDef config    fill:#ffffff,stroke:#666666,color:#000;
